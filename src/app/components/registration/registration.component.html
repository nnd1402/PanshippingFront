<section class="registration-section">
    <img src="../../../assets/images/shared/ship.svg" class="ship-img">
    <mat-card>
        <mat-card-title>Register</mat-card-title>
        <mat-card-content>
            <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
                <div>
                    <mat-form-field appearance="standard">
                        <mat-label for="firstName">First Name</mat-label>                    
                        <input formControlName="firstName" matInput placeholder="First Name" autocomplete="off">                        
                    </mat-form-field>
                    <div *ngIf="form.firstName.errors">
                        <!-- ako je polje prazno i kliknuto ili je polje prazno a forma submitovana => prikazi poruku da polje nije validno -->
                        <div *ngIf="form.firstName.errors.required && form.firstName.touched || form.firstName.errors.required && submitted" class="input-error-message">First Name is required</div>
                    </div>
                </div>
                <div>
                    <mat-form-field appearance="standard">
                        <mat-label for="lastName">Last Name</mat-label>                    
                        <input formControlName="lastName" matInput placeholder="Last Name" autocomplete="off">                        
                    </mat-form-field>
                    <div *ngIf="form.lastName.errors">
                        <div *ngIf="form.lastName.errors.required && form.lastName.touched || form.lastName.errors.required && submitted" class="input-error-message">Last Name is required</div>
                    </div>
                </div>
                <div>
                    <mat-form-field appearance="standard">
                        <mat-label for="username">Username</mat-label>
                        <input formControlName="username" matInput placeholder="Username" autocomplete="off">
                    </mat-form-field>
                    <div *ngIf="usernameExists" class="input-error-message">{{ usernameExists }}</div>
                    <div *ngIf="form.username.errors">
                        <div *ngIf="form.username.errors.required && form.username.touched || form.username.errors.required && submitted" class="input-error-message">Username is required</div>
                    </div>
                </div>    
                <div>
                    <mat-form-field appearance="standard">
                        <mat-label for="email">Email</mat-label>
                        <input formControlName="email" matInput placeholder="Email" autocomplete="off">
                    </mat-form-field>
                    <div *ngIf="form.email.errors">
                        <div *ngIf="form.email.errors.required && form.email.touched || form.email.errors.required && submitted" class="input-error-message">Email is required</div>
                        <div *ngIf="form.email.errors.email" class="input-error-message">Email is not in valid format</div>
                        <div *ngIf="form.email.errors.minlength" class="input-error-message">Email must have at least 6 characters</div>
                    </div>
                </div>
                <div>
                    <mat-form-field appearance="standard">
                        <mat-label for="password">Password</mat-label>
                        <input type="password" matInput formControlName="password" placeholder="Password">
                    </mat-form-field>
                    <div *ngIf="form.password.errors">
                        <div *ngIf="form.password.errors.required && form.password.touched || form.password.errors.required && submitted" class="input-error-message">Password is required</div>
                        <div *ngIf="form.password.errors.minlength" class="input-error-message">Password must have at least 5 characters</div>
                    </div>
                </div>
                <div>
                    <mat-form-field appearance="standard">
                        <mat-label for="confirmPassword">Confirm Password</mat-label>
                        <input type="password" matInput formControlName="confirmPassword" placeholder="Confirm Password">
                    </mat-form-field>
                    <div *ngIf="form.confirmPassword.errors">
                        <div *ngIf="form.confirmPassword.errors.required && form.confirmPassword.touched || form.confirmPassword.errors.required && submitted" class="input-error-message">Confirm Password is required</div>
                        <div *ngIf="form.confirmPassword.errors.matching" class="input-error-message">Confirm Password does not match</div>
                    </div>
                </div>
                <div>
                    <mat-form-field appearance="standard">
                        <mat-label for="address">Postal Address</mat-label>
                        <input formControlName="address" matInput placeholder="Postal Address" autocomplete="off">
                    </mat-form-field>
                    <div *ngIf="form.address.errors">
                        <div *ngIf="form.address.errors.required && form.address.touched || form.address.errors.required && submitted" class="input-error-message">Postal Address is required</div>
                    </div>
                </div>
                <div>
                    <mat-form-field appearance="standard">
                        <mat-label for="country">Country</mat-label>
                        <input formControlName="country" matInput placeholder="Country" autocomplete="off">
                    </mat-form-field>
                    <div *ngIf="form.country.errors">
                        <div *ngIf="form.country.errors.required && form.country.touched || form.country.errors.required && submitted" class="input-error-message">Country is required</div>
                    </div>
                </div>
                <div>
                    <mat-form-field appearance="standard">
                        <mat-label for="phone">Phone Number</mat-label>
                        <input formControlName="phone" matInput placeholder="Phone Number" autocomplete="off">
                    </mat-form-field>
                    <div *ngIf="form.phone.errors">
                        <div *ngIf="form.phone.errors.required && form.phone.touched || form.phone.errors.required && submitted" class="input-error-message">Phone Number is required</div>
                        <div *ngIf="form.phone.errors.pattern" class="input-error-message">Phone Number must contain only numbers</div>
                    </div>
                </div>
                
                <button type="submit" mat-raised-button color="primary">Sign Up</button>
            </form>
        </mat-card-content>
    </mat-card>
</section>